<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:ViewModels="clr-namespace:shoppingList.ViewModels"
             xmlns:views="clr-namespace:shoppingList.Views"
             x:Class="shoppingList.Views.CategoryItem"
             x:DataType="ViewModels:CategoryItemViewModel">

    <VerticalStackLayout>

        <Border Stroke="#8a41a6"
                BackgroundColor="#8a41a6"
                StrokeThickness="2"
                Margin="15"
                Padding="15"
                StrokeShape="RoundRectangle 20,20,20,20">
            <Grid ColumnDefinitions="*,*"
                  ColumnSpacing="12"
                  VerticalOptions="Center">

                <Label Grid.Column="0"
                       Text="{Binding CategoryName}"
                       FontAttributes="Bold"
                       FontSize="25"
                       Margin="30,0,0,0"
                       TextColor="White"
                       VerticalOptions="Center" />
                <Button Grid.Column="1"
                        BackgroundColor="#703587"
                        Command="{Binding ToggleExpandCommand}"
                        WidthRequest="60"
                        HorizontalOptions="End"
                        TextColor="White"
                        Text="{Binding ExpandButtonSymbol}"/>
            </Grid>
        </Border>

        <VerticalStackLayout BindableLayout.ItemsSource="{Binding}"
                             IsVisible="{Binding IsExpanded}">
            <BindableLayout.ItemTemplate>
                <DataTemplate x:DataType="ViewModels:ProductItemViewModel">
                    <views:ProductItem />
                </DataTemplate>
            </BindableLayout.ItemTemplate>
        </VerticalStackLayout>

    </VerticalStackLayout>
</ContentView>